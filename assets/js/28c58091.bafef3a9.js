"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[367],{42403:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>V,contentTitle:()=>w,default:()=>N,frontMatter:()=>S,metadata:()=>t,toc:()=>C});const t=JSON.parse('{"id":"applikasjon-utrulling/tilgangsstyring/klientregistrering","title":"\ud83d\udcdd Klientregistrering","description":"Klientregistrering er en sentral del av tilgangsstyring med OAuth 2.0 og OIDC. N\xe5r du registrerer en klient, f\xe5r applikasjonen sin egen identitet og kan autentisere seg mot de valgte identitetstilbyderne.","source":"@site/docs/03-applikasjon-utrulling/04-tilgangsstyring/01-klientregistrering.mdx","sourceDirName":"03-applikasjon-utrulling/04-tilgangsstyring","slug":"/applikasjon-utrulling/tilgangsstyring/klientregistrering","permalink":"/docs/applikasjon-utrulling/tilgangsstyring/klientregistrering","draft":false,"unlisted":false,"editUrl":"https://github.com/kartverket/skip-docs/edit/main/docs/03-applikasjon-utrulling/04-tilgangsstyring/01-klientregistrering.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udd10 Tilgangsstyring i SKIP","permalink":"/docs/applikasjon-utrulling/tilgangsstyring/"},"next":{"title":"\ud83d\udee1\ufe0f Token-validering og grovkornet autorisasjon","permalink":"/docs/applikasjon-utrulling/tilgangsstyring/token-validering"}}');var i=n(74848),s=n(28453),l=n(96540),a=n(34164),o=n(65627),d=n(56347),c=n(50372),p=n(30604),u=n(11861),g=n(78749);function h(e){return l.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function m(e){const{values:r,children:n}=e;return(0,l.useMemo)((()=>{const e=r??function(e){return h(e).map((e=>{let{props:{value:r,label:n,attributes:t,default:i}}=e;return{value:r,label:n,attributes:t,default:i}}))}(n);return function(e){const r=(0,u.XI)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,n])}function j(e){let{value:r,tabValues:n}=e;return n.some((e=>e.value===r))}function k(e){let{queryString:r=!1,groupId:n}=e;const t=(0,d.W6)(),i=function(e){let{queryString:r=!1,groupId:n}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:r,groupId:n});return[(0,p.aZ)(i),(0,l.useCallback)((e=>{if(!i)return;const r=new URLSearchParams(t.location.search);r.set(i,e),t.replace({...t.location,search:r.toString()})}),[i,t])]}function f(e){const{defaultValue:r,queryString:n=!1,groupId:t}=e,i=m(e),[s,a]=(0,l.useState)((()=>function(e){let{defaultValue:r,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!j({value:r,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:r,tabValues:i}))),[o,d]=k({queryString:n,groupId:t}),[p,u]=function(e){let{groupId:r}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(r),[t,i]=(0,g.Dv)(n);return[t,(0,l.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:t}),h=(()=>{const e=o??p;return j({value:e,tabValues:i})?e:null})();(0,c.A)((()=>{h&&a(h)}),[h]);return{selectedValue:s,selectValue:(0,l.useCallback)((e=>{if(!j({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);a(e),d(e),u(e)}),[d,u,i]),tabValues:i}}var x=n(9136);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:r,block:n,selectedValue:t,selectValue:s,tabValues:l}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),p=e=>{const r=e.currentTarget,n=d.indexOf(r),i=l[n].value;i!==t&&(c(r),s(i))},u=e=>{let r=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const n=d.indexOf(e.currentTarget)+1;r=d[n]??d[0];break}case"ArrowLeft":{const n=d.indexOf(e.currentTarget)-1;r=d[n]??d[d.length-1];break}}r?.focus()};return(0,i.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},r),children:l.map((e=>{let{value:r,label:n,attributes:s}=e;return(0,i.jsx)("li",{role:"tab",tabIndex:t===r?0:-1,"aria-selected":t===r,ref:e=>{d.push(e)},onKeyDown:u,onClick:p,...s,className:(0,a.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":t===r}),children:n??r},r)}))})}function y(e){let{lazy:r,children:n,selectedValue:t}=e;const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(r){const e=s.find((e=>e.props.value===t));return e?(0,l.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,i.jsx)("div",{className:"margin-top--md",children:s.map(((e,r)=>(0,l.cloneElement)(e,{key:r,hidden:e.props.value!==t})))})}function A(e){const r=f(e);return(0,i.jsxs)("div",{className:(0,a.A)("tabs-container",b.tabList),children:[(0,i.jsx)(v,{...r,...e}),(0,i.jsx)(y,{...r,...e})]})}function D(e){const r=(0,x.A)();return(0,i.jsx)(A,{...e,children:h(e.children)},String(r))}const I={tabItem:"tabItem_Ymn6"};function E(e){let{children:r,hidden:n,className:t}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,a.A)(I.tabItem,t),hidden:n,children:r})}const S={},w="\ud83d\udcdd Klientregistrering",V={},C=[{value:"\ud83d\udea7 Under utvikling \ud83d\udea7",id:"-under-utvikling-",level:2},{value:"Spesifikasjonen til <code>AzureAdApplication</code>",id:"spesifikasjonen-til-azureadapplication",level:3},{value:"Eksempel",id:"eksempel",level:3},{value:"\ud83d\udea7 Under arbeid \ud83d\udea7",id:"-under-arbeid-",level:2},{value:"\ud83d\udea7 Under arbeid \ud83d\udea7",id:"-under-arbeid--1",level:2}];function z(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"-klientregistrering",children:"\ud83d\udcdd Klientregistrering"})}),"\n",(0,i.jsx)(r.p,{children:"Klientregistrering er en sentral del av tilgangsstyring med OAuth 2.0 og OIDC. N\xe5r du registrerer en klient, f\xe5r applikasjonen sin egen identitet og kan autentisere seg mot de valgte identitetstilbyderne."}),"\n",(0,i.jsxs)(r.p,{children:["Vi anbefaler \xe5 ha et bevisst forhold til hvilke tjenester som skal dele samme ",(0,i.jsx)(r.code,{children:"audience"}),".\nDet er ofte mer hensiktsmessig \xe5 velge en restriktiv tiln\xe6rming, der hver tjeneste f\xe5r sin egen klientregistrering, fremfor \xe5 gruppere flere tjenester under \xe9n felles klient. Dette gir bedre kontroll over tilgangsstyring og sikkerhet."]}),"\n",(0,i.jsx)(r.p,{children:"Felles for alle identitetstilbydere p\xe5 SKIP er at klientregistrering st\xf8ttes fra plattformen ved hjelp av Kubernetes-operatorer."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"https://github.com/nais/digdirator",children:(0,i.jsx)(r.strong,{children:"Digdirator"})})," h\xe5ndterer klientregistrering mot Digdir sine fellesl\xf8sninger, nemlig ",(0,i.jsx)(r.strong,{children:"ID-porten"})," og ",(0,i.jsx)(r.strong,{children:"Maskinporten"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"https://github.com/nais/azurerator",children:(0,i.jsx)(r.strong,{children:"Azurerator"})})," tar seg av klientregistrering mot ",(0,i.jsx)(r.strong,{children:"Microsoft Entra ID"})," (tidligere kjent som Azure Active Directory)."]}),"\n"]}),"\n",(0,i.jsxs)(D,{children:[(0,i.jsxs)(E,{value:"skiperator",label:"Skiperator",children:[(0,i.jsxs)(r.p,{children:["CRD-en ",(0,i.jsx)(r.code,{children:"Application"})," definert i Skiperator tilbyr et forenklet API for \xe5 registrere klienter mot ",(0,i.jsx)(r.strong,{children:"ID-porten"})," og ",(0,i.jsx)(r.strong,{children:"Maskinporten"}),".\nVi jobber ogs\xe5 med \xe5 innf\xf8re tilsvarende funksjonalitet for ",(0,i.jsx)(r.strong,{children:"Entra ID"}),", men det er ikke helt klart enn\xe5."]}),(0,i.jsxs)(D,{children:[(0,i.jsxs)(E,{value:"entraid",label:"Entra ID",children:[(0,i.jsx)(r.h2,{id:"-under-utvikling-",children:"\ud83d\udea7 Under utvikling \ud83d\udea7"}),(0,i.jsx)(r.p,{children:"Automatisert klientregistrering mot Entra ID i SKiperator application-manifestet er for tiden under utvikling og er ikke helt klart enn\xe5.\nVi jobber hardt for \xe5 gj\xf8re det tilgjengelig, og vi gleder oss til \xe5 vise deg hvordan du kan ta den i bruk s\xe5 snart vi er klare!\nF\xf8lg med for oppdateringer."})]}),(0,i.jsxs)(E,{value:"idporten",label:"ID-porten",children:[(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.a,{href:"/docs/applikasjon-utrulling/skiperator/api-docs",children:"Skiperator"})," tilbyr st\xf8tte for \xe5 sette opp en klientintegrasjon mot ID-porten\nvia spesifikasjonen til ",(0,i.jsx)(r.code,{children:"Application"}),". F\xf8lgende eksempel konfigurerer en integrasjon av typen ",(0,i.jsx)(r.code,{children:"api_klient"}),",\nsetter ",(0,i.jsx)(r.strong,{children:"redirect path"})," til ",(0,i.jsx)(r.code,{children:"/oauth/callback"})," og spesifiserer scopes ",(0,i.jsx)(r.code,{children:"openid"})," og ",(0,i.jsx)(r.code,{children:"profile"}),". Resten av feltene som st\xf8ttes\nkan du finne i Skiperator sin ",(0,i.jsx)(r.a,{href:"/docs/applikasjon-utrulling/skiperator/api-docs",children:"API-dokumentasjon"}),"."]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",children:'apiVersion: skiperator.kartverket.no/v1alpha1\nkind: Application\nmetadata:\n  name: application\n  namespace: tilgangsstyring-main\nspec:\n  image: image\n  port: 8080\n  idporten:\n    enabled: true\n    integrationType: "api_klient"\n    redirectPath: "/oauth/callback"\n    scopes:\n      - "openid"\n      - "profile"\n'})}),(0,i.jsxs)(r.p,{children:["Fordelen med denne metoden er at Skiperator automatisk injiserer hemmelighetene som Digdirator oppretter\nsom milj\xf8variabler i deploymenten til ",(0,i.jsx)(r.code,{children:"application"}),". Dette gj\xf8r at applikasjonen enkelt kan f\xe5 tilgang til\nhemmelighetene under kj\xf8ring."]})]}),(0,i.jsxs)(E,{value:"maskinporten",label:"Maskinporten",children:[(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.a,{href:"/docs/applikasjon-utrulling/skiperator/api-docs",children:"Skiperator"})," tilbyr st\xf8tte for \xe5 sette opp en klientintegrasjon mot Maskinporten\nvia spesifikasjonen til ",(0,i.jsx)(r.code,{children:"Application"}),". F\xf8lgende eksempel demonstrerer en minimal konfigurasjon for \xe5 registrere en klient i Maskinporten.\nResten av feltene som st\xf8ttes kan du finne i Skiperator sin ",(0,i.jsx)(r.a,{href:"/docs/applikasjon-utrulling/skiperator/api-docs",children:"API-dokumentasjon"}),"."]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",children:"apiVersion: skiperator.kartverket.no/v1alpha1\nkind: Application\nmetadata:\n  name: application\n  namespace: tilgangsstyring-main\nspec:\n  image: image\n  port: 8080\n  maskinporten:\n    enabled: true\n"})}),(0,i.jsxs)(r.p,{children:["Fordelen med denne metoden er at Skiperator automatisk injiserer hemmelighetene som Digdirator oppretter\nsom milj\xf8variabler i deploymenten til ",(0,i.jsx)(r.code,{children:"application"}),". Dette gj\xf8r at applikasjonen enkelt kan f\xe5 tilgang til\nhemmelighetene under kj\xf8ring."]})]})]})]}),(0,i.jsxs)(E,{value:"native",label:"Digdirator / Azurerator",children:[(0,i.jsx)(r.p,{children:"Man kan benytte seg direkte av CRD-ene (Custom Resource Definitions) som Digdirator og Azurerator introduserer for \xe5 registrere klienter mot ID-porten, Maskinporten og Entra ID.\nFordelen med denne tiln\xe6rmingen er at man f\xe5r full kontroll over konfigurasjonen og stor fleksibilitet ved \xe5 frikoble registreringen fra applikasjonen.\nUlempen er at det krever mer innsikt i oppsettet, og at injisering av hemmeligheter i deploymenten m\xe5 h\xe5ndteres separat."}),(0,i.jsxs)(r.p,{children:["Digdirator introduserer CRD-ene ",(0,i.jsx)(r.code,{children:"IdportenClient"})," og ",(0,i.jsx)(r.code,{children:"MaskinportenClient"}),", som definerer konfigurasjonen for registrering av klienter mot henholdsvis ",(0,i.jsx)(r.strong,{children:"ID-porten"})," og ",(0,i.jsx)(r.strong,{children:"Maskinporten"}),".\nAzurerator introduserer CRD-en ",(0,i.jsx)(r.code,{children:"AzureAdApplication"}),", som brukes til \xe5 registrere klienter mot ",(0,i.jsx)(r.strong,{children:"Microsoft Entra ID"}),"."]}),(0,i.jsx)(r.p,{children:"Alle tre CRD-ene fungerer p\xe5 samme m\xe5te: De overv\xe5kes av sine respektive Kubernetes-operat\xf8rer, som benytter konfigurasjonen til \xe5 registrere en klient mot den aktuelle identitetstilbyderen.\nEtter registreringen opprettes en Kubernetes-hemmelighet som inneholder n\xf8dvendige hemmeligheter og relevante URI-er. Disse brukes b\xe5de til token-validering og for \xe5 gjennomf\xf8re ulike OAuth 2.0-flows."}),(0,i.jsxs)(D,{children:[(0,i.jsxs)(E,{value:"azurerator",label:"AzureAdApplication",children:[(0,i.jsxs)(r.p,{children:["App-registreringer opprettet med Azureator f\xf8lger f\xf8lgende navnekonvensjon basert p\xe5 ",(0,i.jsx)(r.code,{children:"AzureAdApplication"}),"-manifestet: ",(0,i.jsx)(r.code,{children:"cluster:namespace:name"}),"."]}),(0,i.jsxs)(r.h3,{id:"spesifikasjonen-til-azureadapplication",children:["Spesifikasjonen til ",(0,i.jsx)(r.code,{children:"AzureAdApplication"})]}),(0,i.jsxs)(n,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"spec"})," ",(0,i.jsx)(r.em,{children:"(required)"})," \u2013 Spesifikasjon for `AzureAdApplication"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"allowAllUsers"})," ",(0,i.jsx)(r.em,{children:"(bool, required)"})," \u2013 Bestemmer om alle brukere i tenanten som Azurerator er konfigurert mot skal f\xe5 tilgang."]}),(0,i.jsxs)(n,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"claims"})," ",(0,i.jsx)(r.em,{children:"(object, optional)"})," \u2013 Definerer konfigurasjon av claims som inkluderes i tokenene som returneres til Entra ID applikasjonen."]}),(0,i.jsxs)(n,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"groups"})," ",(0,i.jsx)(r.em,{children:"([]object, optional)"})," \u2013 En liste over Entra ID gruppe ID-er som skal inkluderes i `groups-claimet i tokenene utstedt av Entra ID. Dette tildeler ogs\xe5 grupper til app-registreringen brukt for tilgangskontroll. Kun direkte medlemmer av gruppene f\xe5r tilgang."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"id"})," ",(0,i.jsx)(r.em,{children:"(string, required)"})," \u2013 Objekt-ID-en (OID) til en Entra ID-gruppe."]})]})]}),(0,i.jsxs)(n,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"replyUrls"})," ",(0,i.jsx)(r.em,{children:"([]object, required)"})," \u2013 URL-er som applikasjonen godtar som svaradresser etter autentisering."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"url"})," ",(0,i.jsx)(r.em,{children:"(string, required)"})," \u2013 En godkjent svaradresse (reply URL) for applikasjonen."]})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"logoutUrl"})," ",(0,i.jsx)(r.em,{children:"(string, optional)"})," \u2013 URL-en brukere blir omdirigert til n\xe5r de logger ut av applikasjonen.."]}),(0,i.jsxs)(n,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"preAuthorizedApplications"})," ",(0,i.jsx)(r.em,{children:"([]object, optional)"})," \u2013 Definerer andre app-registreringer som er forh\xe5ndsautorisert til \xe5 f\xe5 tilgang til denne applikasjonen. Her refereres det til tilsvarende ",(0,i.jsx)(r.code,{children:"AzureAdApplication"}),"."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"application"})," ",(0,i.jsx)(r.em,{children:"(string, required)"})," \u2013 Navnet p\xe5 den forh\xe5ndsgodkjente applikasjonen."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"namespace"})," ",(0,i.jsx)(r.em,{children:"(string, required)"})," \u2013 Namespacet hvor den forh\xe5ndsgodkjente applikasjonen befinner seg."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"cluster"})," ",(0,i.jsx)(r.em,{children:"(string, required)"})," \u2013 Clusteret hvor den forh\xe5ndsgodkjente applikasjonen befinner seg."]}),(0,i.jsxs)(n,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"permissions"})," ",(0,i.jsx)(r.em,{children:"(object, optional)"})," \u2013 Spesifiserer hvilke claims den forh\xe5ndsautoriserte applikasjonen har."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"scopes"})," ",(0,i.jsx)(r.em,{children:"([]string, optional)"})," \u2013 Liste med egendefinerte tilgangs-scopes tildelt til den forh\xe5ndsautoriserte appliaksjonen."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"roles"})," ",(0,i.jsx)(r.em,{children:"([]string, optional)"})," \u2013 Liste med egendefinerte tilgangs-roller tildelt til den forh\xe5ndsautoriserte appliaksjonen."]})]})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"secretName"})," ",(0,i.jsx)(r.em,{children:"(string, required)"})," \u2013 Navnet p\xe5 Kubernetes-hemmeligheten der hemmeligheter og annen informasjon for Entra ID applikasjonen lagres."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"secretKeyPrefix"})," ",(0,i.jsx)(r.em,{children:"(string, optional)"})," \u2013 Et valgfritt brukerdefinert prefiks som brukes p\xe5 n\xf8klene i den genererte hemmeligheten, og erstatter standardprefikset (AZURE)."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"secretProtected"})," ",(0,i.jsx)(r.em,{children:"(bool, optional)"})," \u2013 Angir om hemmeligheten skal tilbaketrekkes selv n\xe5r den ikke er i bruk."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"singlePageApplication"})," ",(0,i.jsx)(r.em,{children:"(bool, optional)"})," \u2013 Angir om denne Entra ID-applikasjonen skal registreres som en single-page-application for bruk i klient-side-applikasjoner uten tilgang til hemmeligheter."]})]}),(0,i.jsx)(r.h3,{id:"eksempel",children:"Eksempel"}),(0,i.jsxs)(r.p,{children:["F\xf8lgende eksempel er et YAML-manifest som oppretter app-registreringen ",(0,i.jsx)(r.code,{children:"atgcp1-sandbox:tilgangsstyring-main:test-app"}),".\nDen gir kun tilgang til direkte medlemmer av gruppene med objekt-ID ",(0,i.jsx)(r.code,{children:"2720e397-081d-4d9b-852e-0d81f45a304f"})," eller ",(0,i.jsx)(r.code,{children:"c3c94454-aefc-44f9-9076-58ea47547941"}),".\nDen forh\xe5ndsautoriserer ogs\xe5 Entra ID klienten ",(0,i.jsx)(r.code,{children:"atgcp1-dev:other-namespace:other-app"}),".\nN\xe5r registrering er fullf\xf8rt vil Azurerator automatisk opprette Kubernetes-hemmeligheten ",(0,i.jsx)(r.code,{children:"entraid-secret"})," i namespacet ",(0,i.jsx)(r.code,{children:"tilgangsstyring-main"}),"."]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",children:"apiVersion: nais.io/v1\nkind: AzureAdApplication\nmetadata:\n  name: test-app\n  namespace: tilgangsstyring-main\nspec:\n  allowAllUsers: false\n  claims:\n    groups:\n      - id: 2720e397-081d-4d9b-852e-0d81f45a304f\n      - id: c3c94454-aefc-44f9-9076-58ea47547941\n  replyUrls:\n    - url: https://test-app.atgcp1-sandbox.kartverket-intern.cloud/oauth2/callback\n  preAuthorizedApplications:\n    - application: other-app\n      namespace: other-namespace\n      cluster: atgcp1-dev\n"})})]}),(0,i.jsxs)(E,{value:"idportenclient",label:"IdportenClient",children:[(0,i.jsx)(r.h2,{id:"-under-arbeid-",children:"\ud83d\udea7 Under arbeid \ud83d\udea7"}),(0,i.jsx)(r.p,{children:"Dette innholdet er under arbeid og forh\xe5pentligvis straks klart!"})]}),(0,i.jsxs)(E,{value:"maskinportenclient",label:"MaskinportenClient",children:[(0,i.jsx)(r.h2,{id:"-under-arbeid--1",children:"\ud83d\udea7 Under arbeid \ud83d\udea7"}),(0,i.jsx)(r.p,{children:"Dette innholdet er under arbeid og forh\xe5pentligvis straks klart!"})]})]})]})]})]})}function N(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(z,{...e})}):z(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>a});var t=n(96540);const i={},s=t.createContext(i);function l(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);