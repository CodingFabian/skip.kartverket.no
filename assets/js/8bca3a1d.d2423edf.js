"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[6709],{83786:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>g,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var i=r(85893),n=r(11151);const o={},s="Opprette nytt repo p\xe5 Github",a={id:"github/opprette-nytt-repo-p\xe5-github",title:"Opprette nytt repo p\xe5 Github",description:"Dette dokumentet beskriver fremgangsm\xe5ten et produktteam skal bruke for \xe5 opprette et nytt repository p\xe5 Github - enten de skal starte et nytt prosjekt, eller flytte et gammelt.",source:"@site/docs/07-github/03-opprette-nytt-repo-p\xe5-github.md",sourceDirName:"07-github",slug:"/github/opprette-nytt-repo-p\xe5-github",permalink:"/docs/github/opprette-nytt-repo-p\xe5-github",draft:!1,unlisted:!1,editUrl:"https://github.com/kartverket/skip-docs/edit/main/docs/07-github/03-opprette-nytt-repo-p\xe5-github.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Autentisering til GitHub i terminalen",permalink:"/docs/github/autentisering-til-github-i-terminalen"},next:{title:"H\xe5ndtering av sensitiv data som er kommet p\xe5 repositoriet",permalink:"/docs/github/h\xe5ndtering-av-sensitiv-data-som-er-kommet-p\xe5-repositoriet"}},p={},d=[{value:"Merknad for produkter som ikke er p\xe5 SKIP",id:"merknad-for-produkter-som-ikke-er-p\xe5-skip",level:3},{value:"Hvordan opprette et nytt GitHub Repository",id:"hvordan-opprette-et-nytt-github-repository",level:2},{value:"Opprett tilganger til Google Cloud for Github Actions",id:"opprett-tilganger-til-google-cloud-for-github-actions",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"opprette-nytt-repo-p\xe5-github",children:"Opprette nytt repo p\xe5 Github"}),"\n",(0,i.jsx)(t.p,{children:"Dette dokumentet beskriver fremgangsm\xe5ten et produktteam skal bruke for \xe5 opprette et nytt repository p\xe5 Github - enten de skal starte et nytt prosjekt, eller flytte et gammelt."}),"\n",(0,i.jsx)(t.h3,{id:"merknad-for-produkter-som-ikke-er-p\xe5-skip",children:"Merknad for produkter som ikke er p\xe5 SKIP"}),"\n",(0,i.jsx)(t.p,{children:"Merk at det meste av dette dokumentet ogs\xe5 er gyldig for prosjekter som ikke er p\xe5 SKIP-plattformen - men at det likevel er skrevet for SKIP-teams, s\xe5 sikkerhetsreglene kan sees p\xe5 som gode r\xe5d dersom du ikke skal bruke SKIP."}),"\n",(0,i.jsxs)(t.p,{children:["For ikke \xe5 snakke om at du dersom du f\xf8lger disse sikkerhetsreglene vil f\xe5 en mye enklere jobb hvis du skal flytte prosjektet over til SKIP i fremtiden ",(0,i.jsx)(t.img,{src:r(25612).Z+"",width:"16",height:"16"})]}),"\n",(0,i.jsx)(t.h2,{id:"hvordan-opprette-et-nytt-github-repository",children:"Hvordan opprette et nytt GitHub Repository"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Logg inn p\xe5 GitHub"}),"\n",(0,i.jsxs)(t.li,{children:["Opprett et nytt repository ved \xe5 trykke p\xe5 pluss-ikonet \xf8verst til h\xf8yre p\xe5 ",(0,i.jsx)(t.a,{href:"https://github.com/",children:"https://github.com"})," og velge \u201cNew repository\u201d. Dette gjelder uansett om du skal lage et nytt prosjekt eller importere et eksisterende prosjekt, siden du ikke vil kunne bruke \u201cImport\u201d-funksjonaliteten p\xe5 vanlig m\xe5te.\n",(0,i.jsx)(t.img,{src:r(54454).Z+"",width:"286",height:"218"})]}),"\n",(0,i.jsxs)(t.li,{children:["Dersom du skal importere et eksisterende git-repository, f\xf8lg ",(0,i.jsx)(t.a,{href:"https://docs.github.com/en/get-started/importing-your-projects-to-github/importing-source-code-to-github/importing-a-git-repository-using-the-command-line",children:"denne tutorialen"})," ."]}),"\n",(0,i.jsxs)(t.li,{children:["Fyll ut skjemaet med riktig informasjon.\n",(0,i.jsx)(t.img,{src:r(19276).Z+"",width:"762",height:"880"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Huskeregler:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Alle prosjekter som ikke skal v\xe6re \xe5pne skal v\xe6re ",(0,i.jsx)(t.code,{children:"Internal"})," . Det er likevel mulig \xe5 invitere eksterne utviklere. Mer informasjon: ",(0,i.jsx)(t.a,{href:"https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories#about-repository-visibility",children:"https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories#about-repository-visibility"})]}),"\n",(0,i.jsxs)(t.li,{children:["Pass p\xe5 at ",(0,i.jsx)(t.code,{children:"Owner"})," er satt til ",(0,i.jsx)(t.code,{children:"kartverket"})," , og ikke din private bruker."]}),"\n",(0,i.jsx)(t.li,{children:"Ikke velg en lisens med mindre du faktisk skal lage et open-source prosjekt. \xc5 velge en \xe5pen kildekode-lisens her kan \xf8delegge for sikkerhetsverkt\xf8yene i Kartverket og i siste instans skape legale problemer for Kartverket.\nHvis du er i tvil, ta kontakt med SKIP-teamet."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Dokumenter hvilket team som er ansvarlig for repositoriet ved \xe5 opprette en ",(0,i.jsx)(t.code,{children:"Codeowners"})," fil.Dette er ",(0,i.jsx)(t.a,{href:"https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners",children:"dokumentert her"})," .Som regel er det nok med en linje - ",(0,i.jsx)(t.a,{href:"https://github.com/kartverket/iam/blob/main/CODEOWNERS",children:"slik"})," (bytt ut ",(0,i.jsx)(t.code,{children:"skip"})," med ditt eget team)."]}),"\n",(0,i.jsxs)(t.li,{children:["Gi teamet ditt rettigheter til repoet. Dette er dokumentert ",(0,i.jsx)(t.a,{href:"https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/managing-repository-settings/managing-teams-and-people-with-access-to-your-repository",children:"her"})," . Det er vanlig \xe5 sette Tech Lead som eier for repositoriet, men dette bestemmer dere selv."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"opprett-tilganger-til-google-cloud-for-github-actions",children:"Opprett tilganger til Google Cloud for Github Actions"}),"\n",(0,i.jsxs)(t.p,{children:["Dersom du har behov til \xe5 autentisere deg mot GCP kan du legge til at ditt repo GitHub kan autentisere seg mot Google Cloud med en bestemt bruker. Da m\xe5 man sette opp ",(0,i.jsx)(t.a,{href:"https://kartverket.atlassian.net/wiki/spaces/SKIPDOK/pages/320439634",children:"Workload Identity Federation"})," . Dette er noe SKIP ordner for produktteamene p\xe5 en automatisert m\xe5te ved hjelp av Terraform."]}),"\n",(0,i.jsxs)(t.p,{children:["\xd8nsker du \xe5 legge til et nytt repo kan du opprette en Pull Request for dette repoet: ",(0,i.jsx)(t.a,{href:"https://github.com/kartverket/gcp-service-accounts",children:"https://github.com/kartverket/gcp-service-accounts"})]}),"\n",(0,i.jsxs)(t.p,{children:["Eksempel p\xe5 liste over GitHub repoer for KomReg: ",(0,i.jsx)(t.a,{href:"https://github.com/kartverket/gcp-service-accounts/blob/main/modules.tf",children:"https://github.com/kartverket/gcp-service-accounts/blob/main/modules.tf"})]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-hcl",children:'module "komreg" {\n  source    = "./project_team"\n  team_name = "KomReg"\n  repositories = [\n    "kartverket/komreg-frontend",\n    "kartverket/komreg-backend",\n    "kartverket/komreg-frontend-api", # Legg til flere repoer i denne listen\n  ]\n  env                               = var.env\n  project_id                        = var.komreg_project_id\n  kubernetes_project_id             = var.kubernetes_project_id\n  can_manage_log_alerts_and_metrics = true\n  can_manage_sa                     = true\n  extra_team_sa_roles = [\n    "roles/resourcemanager.projectIamAdmin",\n    "roles/secretmanager.admin",\n    "roles/storage.admin"\n  ]\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["N\xe5r PR\u2019en merges inn vil det ved et nytt team bli opprettet en deploy-servicekonto, som heter ",(0,i.jsx)(t.code,{children:"<teamnavn>-deploy@<prosjekt-id>.iam.gserviceaccount.com"})," . Denne servicekontoen tillater at github-repoene i listen har lov til \xe5 etterligne den og dens tilganger."]}),"\n",(0,i.jsxs)(t.p,{children:["Mer informasjon om Github Actions: ",(0,i.jsx)(t.a,{href:"/docs/github-actions/",children:"GitHub Actions som CI/CD"})]})]})}function g(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},19276:(e,t,r)=>{r.d(t,{Z:()=>i});const i=r.p+"assets/images/308838936-3bfe4ccdcc8cc270731e3599e7184399.png"},54454:(e,t,r)=>{r.d(t,{Z:()=>i});const i=r.p+"assets/images/309002687-64fa1db87696977a435d13155606a538.png"},25612:(e,t,r)=>{r.d(t,{Z:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAKfwAACn8AG1cEgFAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAACNElEQVQ4EY1TTY9MURA9dV/3vCZh0JJJzCxELNg1C2Jhg4iQFktrEsO/mH/BLFhb+oogTCIWE9+9QyKGZJpMaGYiae/N63fLqXpamghucm9uquqc+hbwqM4EkZno/86JPYh6itKDVGyFQhBkge8cJFyU1pVHoxgZgtUMn7fPoxam0UiAbyVQOCdQD8AayjLKBpjFrqvnREhvjis2gjvH72B87JD2ckOVNCACRPqJdEA0EmmmASurd9G6dthIKgPz7OAsl5qIpEmdxkOwMQSTmU57WW62Hi0VopZz0Ieaxyh1kd6nTF68+YJ9rQkkVYAoo2K+s4Sd2zaiubmhWqhKGgKi7A3UnvacGTb55PaDd9h/5jFeLSyD9fBrf5OZzmz4lI5hsQOzP+AFq3Km7j+O2VqR2SmJT9oDUiYsEpgjer0Mf02h2YAO2DKLQzAQfdou2Oua+XWSxOh4hy00hR1rZalQXgebjARMQd66EiyJsbJgJLS6m0l17G8y6n6Ao2OIDVTM2ZB4n1m0Dx/7uD+/iH6/oL06n/1NZjorrNvaYEHu/dpGxhNLlcs3X+PGrZeYmhr3CLqLKzh2ZAdOHt2OkHB4I3620ePUZ+0L2JBO6+c8l4AxhCDd91/RXaJHnsmJtZjcso4pMKaIVdmUpljOZ2X39bMVge3ByCgzz5I5Jky4mkaDFYxN/zDK1TKxEpxtZ7UJW1+vUxI0H8Cu/U3m00fPwz0YWSZu1b/WmQVjZy79vs7fAdlwN9BZNtNNAAAAAElFTkSuQmCC"},11151:(e,t,r)=>{r.d(t,{Z:()=>a,a:()=>s});var i=r(67294);const n={},o=i.createContext(n);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);