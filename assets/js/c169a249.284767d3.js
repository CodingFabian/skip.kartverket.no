"use strict";(self.webpackChunkskip_docs=self.webpackChunkskip_docs||[]).push([[6968],{64721:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>i});var r=t(74848),s=t(28453);const o={},c="Logge inn p\xe5 cluster",l={id:"kubernetes/logge-inn-p\xe5-cluster",title:"Logge inn p\xe5 cluster",description:"CLI (kubectl)",source:"@site/docs/06-kubernetes/01-logge-inn-p\xe5-cluster.md",sourceDirName:"06-kubernetes",slug:"/kubernetes/logge-inn-p\xe5-cluster",permalink:"/docs/kubernetes/logge-inn-p\xe5-cluster",draft:!1,unlisted:!1,editUrl:"https://github.com/kartverket/skip-docs/edit/main/docs/06-kubernetes/01-logge-inn-p\xe5-cluster.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u2699\ufe0f Kubernetes",permalink:"/docs/kubernetes/"},next:{title:"Jobbe med Kubernetes cluster",permalink:"/docs/kubernetes/jobbe-med-cluster"}},u={},i=[{value:"CLI (kubectl)",id:"cli-kubectl",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"logge-inn-p\xe5-cluster",children:"Logge inn p\xe5 cluster"}),"\n",(0,r.jsx)(n.h2,{id:"cli-kubectl",children:"CLI (kubectl)"}),"\n",(0,r.jsxs)(n.p,{children:["F\xf8rst installer ",(0,r.jsx)(n.a,{href:"https://cloud.google.com/sdk/docs/install",children:"gcloud"})," og ",(0,r.jsx)(n.a,{href:"https://cloud.google.com/sdk/docs/components#managing_components",children:"kubectl"})," ."]}),"\n",(0,r.jsx)(n.p,{children:"For \xe5 logge inn med kubectl gj\xf8r f\xf8lgende:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Login med gcloud hvis du ikke har gjort det allerede\n$ gcloud auth login\n\n# S\xf8rg for at du st\xe5r i riktig gcp-prosjekt\n# Hvis du ikke vet hele navnet p\xe5 prosjektet kan du finne dette vet \xe5 liste prosjekter\n$ gcloud projects list\n\n# GCP-prosjektet vil v\xe6re et kubernetes-prosjekt med format kubernetes-<env>-xxxx\n# Jobber du f.eks. i dsa-dev-e32c velger du kubernetes-dev-94b9\n$ gcloud config set project kubernetes-dev-94b9\n\n# Finn riktig clusternavn\n$ gcloud container hub memberships list\n\n# Clusternavn on-prem er p\xe5 formatet <cluster>-<env>-user-cluster og <cluster>-<env>\n# i GCP, f.eks. atkv3-dev-user-cluster for on-prem og atgcp1-dev for GCP\n# Logg inn, generer kubeconfig og sett som aktiv context\n$ gcloud container hub memberships get-credentials atkv3-dev-user-cluster\n\n# Forrige kommando oppretter en ny context, som kan autentisere deg mot clusteret\n# Contexten som blir opprettet her ser noe a la slik ut:\n# For gcp: connectgateway_kubernetes-<env>-xxxx_global_<clusternavn>\n# For on-prem: connectgateway_kubernetes-<env>-xxxx_europe-north1_<clusternavn>\n# Eksempel: connectgateway_kubernetes-dev-94b9_europe-north1_atkv3-dev-user-cluster\n\n# Har du lastet ned kubectx kan du bytte til contexten slik:\n$ kubectx connectgateway_kubernetes-dev-94b9_europe-north1_atkv3-dev-user-cluster\n\n# Om ikke kan du gj\xf8re det med f\xf8lgende kommando i kubectl:\n$ kubectl config use-context connectgateway_kubernetes-dev-94b9_europe-north1_atkv3-dev-user-cluster\n\n# Du kan ogs\xe5 rename disse contextene til noe litt mer spiselig med f\xf8lgende kommando\n# Her er navn 2 vilk\xe5rlig\n$ kubectl config rename-context connectgateway_kubernetes-dev-94b9_europe-north1_atkv3-dev-user-cluster atkv3-dev\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Se ogs\xe5 ",(0,r.jsx)(n.a,{href:"https://cloud.google.com/anthos/multicluster-management/gateway/using",children:"https://cloud.google.com/anthos/multicluster-management/gateway/using"})," ."]}),"\n",(0,r.jsxs)(n.p,{children:["For \xe5 ha adgang til \xe5 logge p\xe5 clusteret m\xe5 du v\xe6re medlem av en en ",(0,r.jsx)(n.code,{children:"AAD - TF - TEAM"})," EntraID-gruppe som er synket med GCP."]}),"\n",(0,r.jsxs)(n.p,{children:["Du kan sjekke om teamet ditt er lagt til i ",(0,r.jsx)(n.a,{href:"https://github.com/kartverket/entra-id-config/blob/main/org.yaml",children:"entra-id-config"}),"\nhvis du er usikker."]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>l});var r=t(96540);const s={},o=r.createContext(s);function c(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);